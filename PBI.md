雛形
```
# ID:
- PBI名: 
- ステータス: [to do/in progress/done]
- ユーザストーリー
- 受け入れ基準
- 注意事項
- 指摘事項（in progressの場合のみ）
```
# ID: 1
- PBI名: Q&A機能追加
- ステータス: in progress
- ユーザストーリー
  - レビュースペースに所属するユーザは、各レビュー対象のレビュー結果に対してAIに質問をすることができる
  - レビュー対象のブラッシュアップの際などに活かすことができるからだ
- 受け入れ基準
  - レビュー結果画面からQ&A画面に遷移することができる
  - Q&A画面でAIにレビュー結果に対する質問ができる（`16-qa-interface`参考）
    - 会話のラリーをできるようにしなくて良い（一問一答形式で良い）、これはelectron版と同様
    - electron版の画面仕様を引き継ぐこと
      - 質問対象のチェック項目を指定しなければならない
        - @~と入力するとチェック項目のリストが表示され、選択することができる
        - 質問対象は複数選択可能
      - AIのドキュメント調査内容がリアルタイムに表示される
      - マークダウンが適切にレンダリングされる
      - electron版はAIチャット機能のコンポーネントを再利用しているので、一問一答形式に最適化されているわけではないので注意する
      - デザインもelectron版はイマイチなので、より洗練させること
        - また、一問一答以上のチャットはしなくて良いので、ロジックも簡潔にできるはず（例えばelectron版で利用している`useChat`ベースではなく、よりシンプルにできるかもしれない）
  - AIの調査結果がelectron版と一致する
    - 入力された質問に対して調査workflowの出力がelectorn版と一致する
      - つまり、各AI処理においてsystem・userプロンプトが完全一致しているか
        - systemプロンプトは各agent定義の`instructions`で指定
        - userプロンプトはgenerateLegacyの引数で指定
    - 大量レビュー結果のキャッシュがキャッシュされている
      - 各種キャッシュについては以下のように扱われている
        - 「失敗したチェックリストのみ」リトライの場合
          - 失敗したチェックリストに関する大量ドキュメント結果キャッシュのみを削除
        - 「全てのチェックリスト」リトライの場合
          - 全てのレビュー結果を削除
          - 全ての大量ドキュメント結果キャッシュ削除
  - Q&Aの履歴は保持され、Q&A画面アクセス時は履歴の内容が表示される
- 注意事項
  - Q&A用のコンポーネントはできるだけ効率的に構築すること
    - 例えば`https://shadcn-chatbot-kit.vercel.app/`のようなAIアプリ用コンポーネントライブラリの利用も検討すること
  - workflowはelectorn版を十分に参考にすること（`electron-ver/src/mastra/workflows/reviewChat`）
    - ただし、既存の処理をそのままコピーすれば良いということではなく、workflow作成方針に沿って、必要あればリファクタリングすること
    - web版とelectron版では機能面や設計思想の違いがあるため、workflowの細かい設計について変更が必要な場合もあるだろう
      - その場合は、無理にelectorn版に寄せずに、web版の設計思想に基づいて実装すること
  - リアルタイム通信はSSEを利用することになると思うが、electron版のように今後さまざまな機能から簡単にpushできるような汎用的な仕組みを整えることが望ましい（ユーザ通知設定を参照すること）
    