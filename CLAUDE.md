# 本プロジェクトの概要
このプロジェクトはデスクトップアプリ「AIKATA」をwebアプリに移行するためのプロジェクトである。
デスクトップ版では、主にAIチャット機能、AIレビュー機能を提供していた。
web版においてはAIレビュー機能にフォーカスし、より洗練されたAIレビュープラットフォームとして、UI・UXを洗練させる。
また、AIのレビューワークフローなど内部処理については大まかな処理方針は変更しないが、リファクタリングする余地がある部分については積極的に実施する。

# web版AIKATAに関するエレベータピッチ
AIの登場により、チェック・レビュー領域も効率化が進んでいる。
しかし現状はChatGPTのようなチャット型アプリにて、対象と観点を与え、チャットの応答としてレビューの結果を得る方式がメインである。
そこで本プロジェクトでは様々なチェック対象（ドキュメント、プログラム、...）を簡単に・効率的にレビューすることができるAIレビュー専用のプラットフォームを構築する。
アプリの名称はAIKATAとする

# 用語集
@docs/domain/glossary.md

# 要件定義
必要に応じて以下参照（後述のPBIで詳細化しているかつ画面モックに反映済みなので基本的には参照の必要はないが、要件の全体感を確認したい場合は参照すること）
`docs/requirements/index.md`

# 画面モック
要件定義を元に初期版を作成済み。
画面モックにて既に大まかな認識・方針を固めているので適宜参照すること。
ただし、あくまで処理イメージを固めるために画面モックを作成しただけなので、UIなどは厳密に合わせる必要はない。
`docs/design_mock`

# アプリの開発方針
- TDD
- DDD
  - クリーンアーキテクチャを採用

# 外部設計
## ユビキタス用語集
### エンティティ
`docs/domain/entity.md`
### ビジネスルール
`docs/domain/business_rule.md`
### ユースケース
`docs/domain/usecase.md`

## 環境変数設計
`docs/config/env_val.md`

# 内部設計
## アーキテクチャ設計
@docs/archtecture/tech.md
@docs/archtecture/folder_structure.md

## データ設計
データベース定義は以下ファイルに記載
記載ルールは以下
- 最新のデータベース定義を常に反映させること
- それぞれのテーブルについてカラムレベルで設計思想や意図を記載すること
`docs/db/schema.md`

# アプリ開発の進め方
  1-1. 設計書の修正
   - 対象: `docs`
  1-2. 振る舞いを確認するための（ブラックボックス）テストを作成
    - 古典派的スタイルで作成
    - 正常系、異常系どちらも作成
    - バックエンドロジック、コンポーネントテストどちらも作成
    - vitestを利用
  2. 1のテストがグリーンになるように実装
  3. リファクタリングとホワイトボックステストを拡充
    - 最終的にテストの条件カバレッジが80%以上となるようにすること

# PBI
@PBI.md

# 作業時の注意点
- クリーンアーキテクチャの中心部分から外側に向けてコーディングを進めること
- Mastraについては実装する際はまずMCPでドキュメントや実装例を参考にしてから正確な情報やベストプラクティスに基づいてコーディングすること
- プロジェクト全体を把握して、全ての実装が必要箇所を正しく洗い出してから実装すること
- 既存資源（型情報やコンポーネントなど）を積極的に活用して効率的に実装すること
  - 既存のコードの修正は真に必要な場合に限ること
- UIは実際に市場に投入できるくらいレベルの高いUIにすること
- TypeScriptを利用して型安全なコードにすること
- プロンプトは英語で記載すること
  - プロンプトの内容は経験豊富なプロンプトエンジニアとしてベストプラクティスに基づいて実装すること
  - 一般的で自然な英語表現にすること
- コードのコメントは日本語で記載すること
- エラーメッセージ(`messages/ja/template.ts`)は日本語で記載すること
- eslintについては単純なフォーマットエラーの場合は対応する必要はない
- 最終的にtypescriptの型エラーがないことを確認すること
  - 既存のエラーは対応不要
  - 新規実装した部分にエラーがある場合は対応すること
- 最終的にアプリのビルドエラーやアクセス時エラーがないことを確認すること
- URLについてもベストプラクティスに沿って設計すること
  - ブックマーカブルなアプリケーションになるように意識すること

# 移行時の注意点
- デスクトップ版はドキュメントのレビューを前提にテーブル、型、変数など設計しているが、web版ではドキュメント含めた様々なレビュー対象を想定しているためそのままの名前で移行しないように注意
- デスクトップ版はDDDではなくトランザクションスクリプト形式のアーキテクチャなので注意
- web版はかなりuiを刷新しているので適宜画面モックを確認すること
- electorn版アプリについては`electron-ver`ディレクトリに格納しているため、移行する際は参照すること
  - electron版のアーキテクチャや機能の構成については必要に応じて`electron-ver/README.md`を参照すること